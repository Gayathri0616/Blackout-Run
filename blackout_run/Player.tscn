[gd_scene load_steps=5 format=3 uid="uid://bvj2larbuwbpy"]

[ext_resource type="SpriteFrames" uid="uid://dasel8k2qp3w8" path="res://new_sprite_frames.tres" id="1_xhfnw"]

[sub_resource type="GDScript" id="GDScript_kpjcp"]
script/source = "extends CharacterBody2D

const SPEED = 300.0
const JUMP_VELOCITY = -400.0

var gravity = ProjectSettings.get_setting(\"physics/2d/default_gravity\")

@export var move_right_key: Key = KEY_RIGHT
@export var move_left_key: Key = KEY_LEFT
@export var jump_key: Key = KEY_SPACE

func _physics_process(delta):
	if not is_on_floor():
		velocity.y += gravity * delta
		print(\"Falling\")
	else:
		velocity.y = 0
		print(\"On floor\")

	if Input.is_key_pressed(move_right_key):
		velocity.x = SPEED
	elif Input.is_key_pressed(move_left_key):
		velocity.x = -SPEED
	else:
		velocity.x = 0

	if Input.is_key_pressed(jump_key) and is_on_floor():
		velocity.y = JUMP_VELOCITY

	move_and_slide()
"

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_e80uo"]
radius = 62.0
height = 302.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xhfnw"]
size = Vector2(465, 120)

[node name="Player" type="CharacterBody2D"]
disable_mode = 2
script = SubResource("GDScript_kpjcp")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_e80uo")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(14, -10)
scale = Vector2(0.644, 0.84)
sprite_frames = ExtResource("1_xhfnw")
animation = &"Run"

[node name="Camera2D" type="Camera2D" parent="."]

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]

[node name="Floor" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor"]
position = Vector2(-2, 226)
shape = SubResource("RectangleShape2D_xhfnw")
